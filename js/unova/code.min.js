var pokemonRepository=function(){var t=document.querySelector("#modal-container"),e=[],n="https://pokeapi.co/api/v2/pokemon/?limit=155&offset=494";function i(t){e.push(t)}function o(){t.classList.remove("is-visible")}return window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&o()}),t.addEventListener("click",e=>{e.target===t&&o()}),{add:i,getAll:function(){return e},addListItem:function(t){var e=$("#pokemon-list"),n=$('<button class="btn btn-secondary btn-block btn-lg" role="button" aria-pressed="false" data-toggle="modal" data-target="#pokemonInfo">'+t.name+"</button>");e.append(n),n.on("click",function(){var e;(function(t){var e=t.detailsURL;return $.ajax(e,{dataType:"json"}).then(function(t){return t}).then(function(e){t.id=e.id,t.imageUrl=e.sprites.front_default,t.imageUrl2=e.sprites.back_default,t.height=e.height/10*3.28084,t.abilities=e.abilities.map(function(t){return" "+t.ability.name}),t.types=e.types.map(function(t){return" "+t.type.name})}).catch(function(t){console.error(t)})})(e=t).then(function(){!function(t){var e=$(".modal-title"),n=$(".modal-body"),i=$("modal-footer");e.empty(),n.empty(),i.empty();var o=$("<h1> #"+t.id+": "+t.name+"</h1>"),a=$('<div class="sprite-container"><img src="'+t.imageUrl2+'" class="pokemon-sprite"><img src="'+t.imageUrl+'" class="pokemon-sprite"></div>'),s=$('<p class="info-text">Height: '+t.height.toFixed(1)+" Ft</p>"),r=$('<p class="info-text">Type(s): '+t.types+"</p>"),p=$('<p class="info-text">Abilities: '+t.abilities+"</p>");e.append(o),n.append(a),n.append(s),n.append(r),n.append(p)}(e)})})},loadList:function(){return $.ajax(n,{dataType:"json"}).then(function(t){t.results.forEach(function(t){i({name:t.name,detailsURL:t.url})})}).catch(function(t){console.error(t)})},apiUrl:n}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});